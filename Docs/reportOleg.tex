\documentclass[12pt]{article}
\usepackage{indentfirst}
\usepackage{fullpage}
\usepackage{multicol,multirow}
\usepackage{tabularx}
\usepackage{ulem}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{listings}
\usepackage{color}
\begin{document}
\begin{titlepage}
	\begin{center}
		\bfseries
		
		{\Large Московский авиационный институт\\ (национальный исследовательский университет)
			
		}
		
		\vspace{48pt}
		
		{\large Факультет информационных технологий и прикладной математики
		}
		
		\vspace{36pt}
		
		
		{\large Кафедра вычислительной математики и~программирования
			
		}
		
		
		\vspace{48pt}
		
		Курсовая работа по курсу <<Дискрeтный анализ>>: Методы сжатия данных
	\end{center}
	
	\vspace{72pt}
	
	\begin{flushright}
		\begin{tabular}{rl}
			Студент: & О.\,Р. Лисовский  \\
			Преподаватель: & Н.\,А. Зацепин \\
			Группа: & М8О-408Б \\
			Дата: & \\
			Оценка: & \\
			Подпись: & \\
		\end{tabular}
	\end{flushright}
	
	\vfill
	
	\begin{center}
		\bfseries
		Москва, \the\year
	\end{center}
\end{titlepage}

\pagebreak

\subsection*{Условие}

Необходимо реализовать два известных метода сжатия данных для сжатия одного файла. 

Формат запуска должен быть аналогичен формату запуска программы gzip, должны быть поддержаны следующие ключи: -c, -d, -k, -l, -r, -t -1 -9. Должно поддерживаться указание символа дефиса в качестве стандартного ввода.

\subsection*{Метод решения}

Как и требуется в условии запуск программы аналогичен запуску утилиты gzip: ./main <ключи> <файлы> <ключи> <файлы> ...

\subsubsection*{Обработка входных данных}

Программа начинается с обработки строки стандартного ввода. Строка обрабатывается по словам. Если слово начинается с символа <<->>, то предполагается что это набор ключей и ключи передаются в специальную функцию, чтобы исключить противоречия работы ключей. Возможные сочетания и глвенство одних ключей над другими описано в таблице ниже.

\noindent
\begin{tabular}{| c | c | c | c | c | c | c | c |}
	\hline
  & d     & k           & l           & r     & t           & 1           & 9           \\
  \hline
c & нет   & c блокирует & l блокирует & нет   & t блокирует & нет         & нет         \\
  & блока & k           & c           & блока & c           & блока       & блока       \\
  \hline
d & -     & нет         & l блокирует & нет   & t блокирует & d блокирует & d блокирует \\
  &       & блока       & d           & блока & d           & 1           & 9           \\
  \hline
k & -     & -           & l блокирует & нет   & t блокирует & нет         & нет         \\
  &       &             & k           & блока & k           & блока       & блока       \\
  \hline
l & -     & -           & -           & нет   & l блокирует & l блокирует & l блокирует \\
  &       &             &             & блока & t           & 1           & 9           \\
  \hline
r & -     & -           & -           & -     & нет         & нет         & нет         \\
  &       &             &             &       & блока       & блока       & блока       \\
  \hline
t & -     & -           & -           & -     & -           & t блокирует & t блокирует \\
  &       &             &             &       &             & 1           & 9           \\
  \hline
  &       &             &             &       &             &             & последний   \\
1 & -     & -           & -           & -     & -           & -           & полученный  \\
  &       &             &             &       &             &             & блокирует   \\
  &       &             &             &       &             &             & прошлые     \\
  \hline
\end{tabular}

В случае если полученное слово начинается с другого символа, то программа предполагает что это имя файла или директории и добавляет его в список для дальнейшей обработки.

\subsubsection*{Интерфейс}

После установления активных ключей и заполнения списка объектов компрессии/декомпрессии, программа начинает работу  этим самым списком. В случае отсутствия ключа -r все директории не рассматриваются. При активации ключа всё содержимое директории рекурсивно обрабатывается программой. При работе с файлами проверяется наличие/отсутствие (в зависимости от ключа -d) файла с расширением .gz и в случае необходимости программа спрашивает у пользователя право на перезапись соответствующего файла.

При подготовке непосредственно компрессии проверяется наличие ключа -1 или -9 для определения необходимого алгоритма. В случае их отсутствия используются оба алгоритма и выбирается лучший результат.

При подготовке непосредственно декомпрессии читается первый байт файла для установления алгоритма декодирования.

\subsubsection*{Постобработка}

При окончании работы компрессии/декомпрессии программа получает сигнал об их завершении. Если этот сигнал соответствует ошибке то работа с конкретным файлом аварийно прекращается и обрабатывается следующий файл. Дальнейшие действия обусловлены введёнными ключами.

Далее незакодированный файл будет упоминаться как файл, а закодированный файл как архив.%TODO возьмите на вооружение

\subsubsection*{Арифметическая компрессия}%TODO

\subsubsection*{Арифметическая декомпрессия}%TODO

\subsubsection*{LZ77 компрессия}%TODO

\subsubsection*{LZ77 декомпрессия}%TODO

По окончании чтения архива, количество байт, которое было в изначальном файле, сверяется с тем, сколько было записано в его новую версию. При несовпадении выводится соответствующее сообщение, и декомпрессия завершается неудачно.

\subsection*{Описание файлов программы}

Код программы разбит на 9 файлов:%TODO переименвать некоторые классы

\begin{enumerate}
	\item Algorithms.h - Содержит базовую информацию о классах TACC и TLZ77, необходимых для работы компрессии и декомпрессии соответствующих алгоритмов. 
	\item Algorithms.cpp - Содержит реализацию классов TACC и TLZ77.
	\item BFile.h - Содержит базовую информацию о классах TOutBinary и класса TInBinary, необходимых для работы с файлами.
	\item BFile.cpp - Содержит реализацию классов TOutBinary и TInBinary.
	\item interface.h - Содержит в себе перечисление и описание всех функций необходимых для взаимодействия программы и алгоритмов сжатия данных.
	\item interface.cpp - Содержит реализацию всех функций, описанных в файле interface.h.
	\item Library.h - Содержит в себе ключи, необходимые для работы алгоритмов, и библиотеки для работы всей программы.
	\item main.cpp - Файл запуска.
	\item Makefile - Сборочный файл.
\end{enumerate}

\subsection*{Основные типы данных}

\begin{enumerate}%TODO переименвать некоторые классы
	\item TOutBinary - класс, обеспечивающий запись необходимого количества байт в файл.
	\item TInBinary - класс обеспечивающий считывание необходимого количества байт из файла.
	\item TLZ77 - класс, описывающий работу алгоритма LZ77.
	\item TACC - класс, описывающий работу арифметического алгоритма.
\end{enumerate}

\subsection*{Описание методов и функций программы}
 
\subsubsection*{Основные свойства и методы класса TACC}%TODO Слава внимательно посмотрите как я это оформил в своих subsubsection
\noindent
public:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}
\noindent
private:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}

\subsubsection*{Основные свойства и методы класса TOutBinary}%TODO Слава
\noindent
public:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}
\noindent
private:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}

\subsubsection*{Основные свойства и методы класса TInBinary}%TODO Слава
\noindent
public:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}
\noindent
private:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}

\subsubsection*{Основные свойства и методы класса TLZ77}%TODO Саня
\noindent
public:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}
\noindent
private:

\begin{enumerate}
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
	\item 
\end{enumerate}

\subsubsection*{Прочие функции}
\noindent
\begin{enumerate} 
	\item void FileIterator(std::map<std::string, int>) - Осуществляет проход по всем папкам и файлам для их компрессии/декомпрессии.
	\item bool Parser(std::map<std::string, int>*, std::string) - фильтрует полученные при вводе аргументы. При получении некорректного аргумента возвращает false.
	\item bool AskDir(std::string, bool) - Проверка на существование директории. При существовании возвращает true, в любом ином случае false.
	\item void DirectoryWork(std::string) - В случае наличия ключа -r осуществляет работу с внутренними файлами и директориями указанной директории.
	\item void DeComPress(std::string) - Помогает определить действия по отношению к указанному файлу: совершить компрессию, декомпрессию или посмотреть информацию об архиве.
	\item bool Rewrite(std::string) - В случае возможного повторения имён файлов при компрессии/декомпрессии принимает решение о перезаписи.
	\item void ErrorNotes(std::string) - Показывает сообщения об ошибках, возникших при работе с указанной директорией.
	\item bool KeyL(TInBinary*, std::string) - Осуществляет работу ключа -l - вывод информации об архиве.
	\item void PreCompress(TInBinary*, std::string) - Осуществляет подготовку указанного файла к сжатию в соответствии с указанными ключами.
	\item unsigned long long int Compress(std::string, TInBinary*, bool) - Непосредственно активирует указанный алгоритм сжатия. Возвращает размер полученного архива или 0 в случае ошибки.
	\item void PreDecompress(TInBinary*, std::string) - Осуществляет подготовку указанного файла к разжатию в соответствии с указанными ключами.
\end{enumerate}

\subsection*{Исходный код}%TODOпоходу его будем вставлять как всё закончим

\subsection*{Тест производительности}%TODO это нормально затестить получится токо когда всё будет

\noindent
\begin{tabular}{| l | l | l | l | l | l | l |}
	\hline
	Файл             & Размер 	 & Алгоритм & Время  & Время        & Размер  & Коэффициент \\
	                 & исходного &          & сжатия & декомпрессии & сжатого & сжатия      \\
	                 & файла     &          & (с)    & (с)          & файла   &	   		    \\
	\hline
	world95.txt      & & & & & &\\
	\hline
	world95.txt      & & & & & &\\
	\hline
	world95.txt      & & & & & &\\
	\hline
	enwik8           & & & & & &\\
	\hline
	enwik8           & & & & & &\\
	\hline
	enwik8           & & & & & &\\
	\hline
	enwik9           & & & & & &\\
	\hline
	enwik9           & & & & & &\\
	\hline
	enwik9           & & & & & &\\
	\hline

\end{tabular}

\subsection*{Выводы}%TODO

В процессе выполнения данной работы я освоил 2 вида кодирования: арифметическое и LZ77. Было обнаружены как сходства, так и различия. К примеру%TODO

Благодаря освоению двух алгоритмов сразу у меня появились представления о рабоче прочих алгоритмов кодирования и стали очевидны различные требования к их работе и результату. Были существенно улучшены навыки работы с файлами: проверка наличия, запись, чтение, перепись.

\subsection*{Список литературы}
\begin{enumerate}
	\item Алгоритм LZ77 [Электронный ресурс]: mf.grsu.by URL:\\ http://mf.grsu.by/UchProc/livak/po/comprsite/theory\_lz77.html (дата обращения\\ 10.08.2020)
	\item Алгоритмы LZW, LZ77 и LZ78 [Электронный ресурс]: habr.com URL:\\ https://habr.com/ru/post/132683/ (дата обращения 23.08.2020)
	\item Арифметическое кодирование [Электронный ресурс]: mf.grsu.by URL:\\ http://mf.grsu.by/UchProc/livak/po/comprsite/theory\_arithmetic.html (дата обращения 30.08.2020)
	\item Идея арифметического кодирования [Электронный ресурс]: algolist.ru URL:\\ http://algolist.ru/compress/standard/arithm.php (дата обращения 02.09.2020)
	\item Arithmetic coding - integer implementation [Электронный ресурс]: stringology.org URL: http://www.stringology.org/DataCompression/ak-int/index\_en.html (дата обращения 26.09.2020)
\end{enumerate}
\end{document}